菜鸡一个。。我自己想到的方法是分治+线段树。查找某高度h下最大的连续柱子，当遇到小于h的柱子则终止，则连续的柱子可被小于h的柱子分隔开，于是产生一种分治的思想：查找当前区间中的最小柱子，然后分别递归求解左部分和右部分，超时，于是考虑优化，由于无法得知最大值位于哪个区间，所以无法剪枝，于是从查找区间最大值入手，于是引入线段树，目测时间复杂度O(nlogn)，空间复杂度O(kn)，当然效率仍然不高。