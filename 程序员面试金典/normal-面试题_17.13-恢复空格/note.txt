首先想到通过回溯搜索出所有的情况；通过状态记录表dp记录走过的所有路径，转为记忆化搜索；当然可以进一步转为动态规划，但我没试。

至于字典的查询，可先构造一个字典树，通过查询字典树（Trie树）替代直接遍历dictinary查找，但我没试。