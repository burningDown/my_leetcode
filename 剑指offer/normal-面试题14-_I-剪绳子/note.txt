将n划为m段然后求积，可写为(n/m)^m，然后求极值点得m=n/e，然后对n取整并在其上下距离2的区间中查找最大值。当然这种分析并不严谨，因为m段并非完全n/m而应是相差不大于1的整数，不过在n不是很大的情况下这样做完全可以通过。

另外可以通过dp+快速幂来求解。