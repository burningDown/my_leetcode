这题代码很简单没啥东西，主要点在于解题。

四种操作可看作四种范式，不同式子的叠加的结果最终可导出为一个有限的状态集合。对于同一个操作，若连续操作两次则该操作被抵消，故无论同一个操作操作多少次，所有奇数次的操作可等价为一次操作，所有偶数次的操作可等价为没有操作，按照这个逻辑最终将所有操作和状态集合转化为一个有限状态机（如图），然后不同的操作序列决定了不同的状态转移序列，并最终在有限状态集合中确定一个状态。